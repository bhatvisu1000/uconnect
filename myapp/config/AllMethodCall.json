//Register Member
// Client Action
//  WEB:
//      1. User inputs desired loginid/password: Validate LoginId/Password
//      2.) If success, Gather following information
//          a. LastName
//          b. First Name
//          c. Zip Code
//          d. Contact (Phone/Email)
//      3.) Submit data for registration, following response will be returned 
//          _Id (MemberId)
//          Main
//          Address
//          Contact
//          Connections
//          AuthKey

// Registration
// Register Member
{
    "Request":
        {
            "Header":
                {
                    "ScreenId":"Registration","ActionId":"RegisterEntity","Page":"None"
                },
            "MainArg":
                {
                    "Auth":
                        {
                            "LoginId":"vishal",
                            "LoginType":"Web",
                            "Password":"bhatt",
                            "DeviceOs":"Mobile",
                            "DeviceType":"OS2",
                            "MacAddress":"SDFSDKLGHASKLDFGHSAKLFG214ADFA",
                            "EntityType":"Member",
                            "AppVer":"1.0",
                            "SessionId":"aaabbbccc"
                        },
                    "Main":{"LastName":"Bhat","FirstName":"Vishal","NickName":"VB"},
                    "Address":{"ZipCode":"08820"},
                    "Contact":{"Email":"vishal@uconnect.com"}
                }
        }
}
// generate secutity code
{
    "Request":
        {
            "Header":
                {
                    "ScreenId":"Registration","ActionId":"GenerateSecCode","Page":"None"
                },
            "MainArg":
                {"SecurityCode":{"LoginId":"vishal", "DeliveryMethod":"Email", "DeliverTo":"vishal@uconnect.com"}}
        }
}

// validate security code
{
    "Request":
        {
            "Header":
                {
                    "ScreenId":"Registration","ActionId":"ValidateSecCode","Page":"None"
                },
            "MainArg":
                {"SecurityCode":{"LoginId":"vishal", "SecurityCode":50219}}
        }
}

// Login Screen
// isLoginIuse
{
    "Request":
        {
            "Header":
                {
                    "ScreenId":"Login","ActionId":"IsLoginInUse","Page":"None"
                },
            "MainArg":
                {
                    "Auth":
                        {
                            "LoginId":"vishal"
                        }
                }
        }
}
// validate login id
{
    "Request":
        {
            "Header":
                {
                    "ScreenId":"Login","ActionId":"Authenticate","Page":"None"
                },
            "MainArg":
                {"Auth":
                    {
                        "LoginId":"vishal",
                        "LoginType":"Web",
                        "Password":"bhatt",
                        "DeviceOs":"Mobile",
                        "DeviceType":"OS2",
                        "MacAddress":"SDFSDKLGHASKLDFGHSAKLFG214ADFA",
                        "EntityType":"Member",
                        "AppVer":"1.0",
                        "SessionId":"aaabbbccc"
                    }
                }
        }
}

// Get A Member Detail

{
    "Request":
        {
            "Header":
                {
                    "ScreenId":"Member","ActionId":"getAMemberDetail","Page":"None"
                },
            "MainArg":
                {
                    "Auth":
                        {
                            "AuthKey":"59238274df9bba3544d58560",
                            "LoginType":"Web",
                            "LoginId":"vishal",
                            "DeviceOs":"Mobile",
                            "DeviceType":"OS2",
                            "MacAddress":"SDFSDKLGHASKLDFGHSAKLFG214ADFA",
                            "EntityType":"Member",
                            "EntityId":314277,
                            "AppVer":"1.0",
                            "SessionId":"aaabbbccc"
                        }
                }
        }
}

// isAValidMember
{
    "Request":
        {
            "Header":
                {
                    "ScreenId":"Member","ActionId":"isAValidMember","Page":"None"
                },
            "MainArg":
                {
                    "Member":{"_id":314277}
                }
        }
}

// LinkAMember

python
from com.uconnect.bps.memberBPS import MemberBPS
member = MemberBPS.Instance()

{
    "Request":
        {
            "Header":
                {
                    "ScreenId":"Member","ActionId":"AddANewConnection","Page":"None"
                },
            "MainArg":
                {
                    "MemberId":314263,
                    "ConnectMemberId":314262,
                    "Auth":
                        {  
                            "AuthKey":"591279dcdf9bba3be4147cb4",
                            "LoginId":"vishal",
                            "LoginType":"Web",
                            "Password":"bhatt",
                            "DeviceOs":"Mobile",
                            "DeviceType":"OS2",
                            "MacAddress":"SDFSDKLGHASKLDFGHSAKLFG214ADFA",
                            "AppVer":"1.0",
                            "SessionId":"aaabbbccc"
                        }
                }
        }
}

myConnection = member.AddANewMemberConnection(arg)
print(myConnection)
exit()

// Accept/Reject/Remove Invitation

{
    "Request":
        {
            "Header":
                {
                    "ScreenId":"Member","ActionId":"ActionOnAMemberConnection","Page":"None"
                },
            "MainArg":
                {
                    "MemberId":314187,
                    "ConnectMemberId":314188,
                    "Action":"Remove",
                    "Auth":
                        {  
                            "AuthKey":"591279dcdf9bba3be4147cb4",
                            "LoginId":"vishal",
                            "LoginType":"Web",
                            "Password":"bhatt",
                            "DeviceOs":"Mobile",
                            "DeviceType":"OS2",
                            "MacAddress":"SDFSDKLGHASKLDFGHSAKLFG214ADFA",
                            "AppVer":"1.0",
                            "SessionId":"aaabbbccc"
                        }
                }
        }
}

python
from com.uconnect.bps.memberBPS import MemberBPS
member = MemberBPS.Instance()
arg = {"MainArg":
                {
                    "MemberId":314187,
                    "ConnectMemberId":314188,
                    "Action":"Remove",
                    "ResponseMode":"E",
                    "Auth":
                        {  
                            "AuthKey":"591279dcdf9bba3be4147cb4",
                            "EntityType" : "Member",
                            "SessionId" : "aaabbbccc",
                            "LoginType" : "Mobile",
                            "AppVer" : "1.0",
                            "DeviceType" : "OS2",
                            "EntityId" : 314187,
                            "LoginId" : "anil2",                            
                            "Password":"anil2",
                            "DeviceOs":"Mobile",
                            "MacAddress" : "SDFSDKLGHASKLDFGHSAKLFG214ADFA"
                        }
                }
            }
myConnection = member.AcceptConnection(arg)
print(myConnection)
exit()



// create a collection for feed (external to users) and activity log for internal purpose only
// we also need to create a collection to hold entitytype/id and any changes (which type of changes)


// end email
senders = 'anil.singh.aditya@gmail.com'
receivers = 'oracledba.usa88@gmail.com'
message = """ your security code is 88888 """
try:  
    server = smtplib.SMTP_SSL('smtp.gmail.com', 465)
    server.ehlo()
    server.login('anil.singh.aditya@gmail.com', 'NeanG00gle001')
    server.sendmail(receivers, receivers, message)
    server.close()
    print 'Email sent!'
except Exception as err:  
    print 'Something went wrong...'
    print err.message